webpackJsonp([1],{362:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(363),u=r(o),i=n(2),a=r(i),c=n(265),s=r(c),l=function(e,t,n,r){return new(n||(n=s["default"]))(function(o,u){function i(e){try{c(r.next(e))}catch(t){u(t)}}function a(e){try{c(r["throw"](e))}catch(t){u(t)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,a)}c((r=r.apply(e,t)).next())})},d=n(197),f=n(366),v=n(367),h=n(373),p=n(380),m=n(285),g=n(381),y=n(387),w=n(388),C=n(350),S=null,x=function(e){var t=e.appState,n=e.userActions,r=e.systemActions;return l(void 0,void 0,void 0,u["default"].mark(function o(){var e,i,c,s,l,x,b,_;return u["default"].wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!S){o.next=2;break}return o.abrupt("return",S);case 2:return e=new v.HomeService,i=new f.HomeState,c=new h.HomeActions({state:i,service:e}),o.next=7,c.loadLang(t.system.lang,function(){return t.i18n});case 7:return d.reaction(function(){return t.system&&t.system.lang},function(e){return c.loadLang(e,function(){return t.i18n})}),s={appState:t,systemActions:r,userActions:n,homeState:i,homeActions:c},l=d.inject(function(){return s})(d.observer(p["default"])),x=new y.OrderService("/"),b=new w.CustomerService("/"),_=d.inject(function(e,t){return(0,a["default"])({},s,{orderService:x,customerService:b,ConfirmDialog:C.ConfirmDialog},t)})(m.withRouter(d.observer(g.OrderViewPage))),S={HomePage:l,OrderViewPage:_},o.abrupt("return",S);case 15:case"end":return o.stop()}},o,this)}))};Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=x},366:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(207),u=r(o),i=n(209),a=r(i),c=n(213),s=r(c),l=n(353),d=r(l),f=function(e,t,n,r){var o,u=arguments.length,i=u<3?t:null===r?r=(0,d["default"])(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,s["default"])(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(u<3?o(i):u>3?o(t,n,i):o(t,n))||i);return u>3&&i&&(0,a["default"])(t,n,i),i},v=n(197),h=function p(){(0,u["default"])(this,p),this.counter=0,this.counterChanging=!1,this.listIsLoading=!1};f([v.observable],h.prototype,"i18n",void 0),f([v.observable],h.prototype,"counter",void 0),f([v.observable],h.prototype,"counterChanging",void 0),f([v.observable],h.prototype,"listIsLoading",void 0),t.HomeState=h,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=h},367:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(363),u=r(o),i=n(368),a=r(i),c=n(207),s=r(c),l=n(265),d=r(l),f=function(e,t,n,r){return new(n||(n=d["default"]))(function(o,u){function i(e){try{c(r.next(e))}catch(t){u(t)}}function a(e){try{c(r["throw"](e))}catch(t){u(t)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,a)}c((r=r.apply(e,t)).next())})},v=n(372),h=n(200),p=function m(){var e=this;(0,s["default"])(this,m),this.getList=function(){return f(e,void 0,void 0,u["default"].mark(function t(){var e;return u["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.delay((0,a["default"])({length:50},function(e,t){return{id:t+"",name:"qwe",email:"email@domain.com"}}),1e3);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}))},this.saveItem=function(t){return f(e,void 0,void 0,u["default"].mark(function n(){var e;return u["default"].wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.delay(t,1e3);case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}},n,this)}))},this.fetchComplexFormValue=function(){return f(e,void 0,void 0,u["default"].mark(function t(){var e;return u["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.delay({text:"qwe"},1e3);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}))},this.saveComplexFormValue=function(t){return f(e,void 0,void 0,u["default"].mark(function n(){var e;return u["default"].wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.delay(v.cloneDeep(t),1e3);case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}},n,this)}))}};t.HomeService=p,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=p},368:function(e,t,n){e.exports={"default":n(369),__esModule:!0}},369:function(e,t,n){n(216),n(370),e.exports=n(7).Array.from},370:function(e,t,n){"use strict";var r=n(8),o=n(5),u=n(38),i=n(271),a=n(272),c=n(29),s=n(371),l=n(273);o(o.S+o.F*!n(280)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,d,f=u(e),v="function"==typeof this?this:Array,h=arguments.length,p=h>1?arguments[1]:void 0,m=void 0!==p,g=0,y=l(f);if(m&&(p=r(p,h>2?arguments[2]:void 0,2)),void 0==y||v==Array&&a(y))for(t=c(f.length),n=new v(t);t>g;g++)s(n,g,m?p(f[g],g):f[g]);else for(d=y.call(f),n=new v;!(o=d.next()).done;g++)s(n,g,m?i(d,p,[o.value,g],!0):o.value);return n.length=g,n}})},371:function(e,t,n){"use strict";var r=n(11),o=n(19);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},373:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(363),u=r(o),i=n(207),a=r(i),c=n(265),s=r(c),l=function(e,t,n,r){return new(n||(n=s["default"]))(function(o,u){function i(e){try{c(r.next(e))}catch(t){u(t)}}function a(e){try{c(r["throw"](e))}catch(t){u(t)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,a)}c((r=r.apply(e,t)).next())})},d=n(374),f=function v(e){var t=this,r=e.state,o=e.service;(0,a["default"])(this,v),this.loadLang=function(e,r){return l(t,void 0,void 0,u["default"].mark(function o(){var t,i;return u["default"].wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=["en","de"].indexOf(e)!==-1?e:"en",o.next=3,d.loadI18n(n(375)("./i18n."+t+".json"));case 3:i=o.sent,this.state.i18n=function(){return i.apply(this,arguments)||r().apply(this,arguments)};case 5:case"end":return o.stop()}},o,this)}))},this.incrementCounter=function(){return l(t,void 0,void 0,u["default"].mark(function e(){var t,n;return u["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,t.counterChanging=!0,e.next=4,s["default"].resolve(1);case 4:n=e.sent,t.counter+=n,t.counterChanging=!1;case 7:case"end":return e.stop()}},e,this)}))},this.decrementCounter=function(){return l(t,void 0,void 0,u["default"].mark(function e(){var t,n;return u["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,t.counterChanging=!0,e.next=4,s["default"].resolve(-1);case 4:n=e.sent,t.counter+=n,t.counterChanging=!1;case 7:case"end":return e.stop()}},e,this)}))},this.state=r,this.service=o};t.HomeActions=f,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=f},375:function(e,t,n){function r(e){return n(o(e))}function o(e){return u[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var u={"./i18n.de.json":376,"./i18n.en.json":378};r.keys=function(){return Object.keys(u)},r.resolve=o,e.exports=r,r.id=375},376:function(e,t,n){e.exports=function(e){n.e(2,function(t){e(n(377))})}},378:function(e,t,n){e.exports=function(e){n.e(3,function(t){e(n(379))})}},380:function(e,t,n){"use strict";var r=n(39),o=function(e){var t=e.appState,n=e.systemActions,o=e.homeState,u=e.homeActions;return r.createElement("div",null,r.createElement("h1",null,"Page"),r.createElement("div",null,"Page width: ",t.layoutWidth),r.createElement("div",null," i18n app: ",o.i18n("app:title",{title:"Title",count:2})),r.createElement("div",null," i18n mod: ",o.i18n("module:title",{title:"Title",count:2})),r.createElement("button",{onClick:function(){return n["goto"]("/order/0")}},"goto /order/0"),r.createElement("div",null,o.counter),r.createElement("button",{onClick:u.incrementCounter},"increment"),r.createElement("button",{onClick:u.decrementCounter},"decrement"))};Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o},381:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(202),u=r(o),i=n(207),a=r(i),c=n(208),s=r(c),l=n(212),d=r(l),f=n(247),v=r(f),h=n(209),p=r(h),m=n(213),g=r(m),y=n(353),w=r(y),C=function(e,t,n,r){var o,u=arguments.length,i=u<3?t:null===r?r=(0,w["default"])(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,g["default"])(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(u<3?o(i):u>3?o(t,n,i):o(t,n))||i);return u>3&&i&&(0,p["default"])(t,n,i),i},S=n(39),x=n(197),b=n(382),_=n(383),E=n(384),k=n(386);!function(e){e[e.View=1]="View",e[e.Edit=2]="Edit",e[e.Sign=3]="Sign"}(t.mode||(t.mode={}));var O=t.mode,L=function(e){function t(e,n){(0,a["default"])(this,t);var r=(0,d["default"])(this,(t.__proto__||(0,u["default"])(t)).call(this,e,n));return r.mode=O.View,r.onOrderSave=function(e){r.orderState.value=e,r.mode=O.View},r.onOrderEdit=function(){r.mode=O.Edit},r.onOrderSign=function(){r.mode=O.Sign},r.onOrderDelete=function(){var e=r.props.ConfirmDialog;r.props.systemActions.showDialog(S.createElement(e,{onConfirm:function(){console.log("delete order")}},"Are you sure to delete?"))},r.onDirtyChange=function(e){r.props.systemActions.setDirty(e)},console.log("OrderViewPage create"),r.orderState={value:null,isLoading:!1,isDirty:!1},r.actions=new b.OrderViewActions(r.orderState,r.props.orderService),r.CustomerLookup=x.observer(r.props.CustomerLookup||E.createCustomerLookup(r.props.customerService)),r.OrderEdit=x.observer(r.props.OrderEdit||_.OrderEdit),r}return(0,v["default"])(t,e),(0,s["default"])(t,[{key:"componentDidMount",value:function(){this.actions.get(this.props.params.id)}},{key:"componentWillReceiveProps",value:function(e){this.actions.get(e.params.id)}},{key:"render",value:function(){return console.log("OrderViewPage this.orderState.value",this.orderState.value),S.createElement("div",null,this.orderState.value&&this.mode===O.View&&S.createElement(k.OrderView,{value:this.orderState.value,onEdit:this.onOrderEdit,onSign:this.onOrderSign,onDelete:this.onOrderDelete}),this.orderState.value&&this.mode===O.Edit&&S.createElement(_.OrderEdit,{value:this.orderState.value,onSave:this.onOrderSave,CustomerLookup:this.CustomerLookup,onDirtyChange:this.onDirtyChange}),!this.orderState.value&&S.createElement("div",null,"Loading"))}}]),t}(S.Component);C([x.observable],L.prototype,"orderState",void 0),C([x.observable],L.prototype,"mode",void 0),t.OrderViewPage=L},382:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(363),u=r(o),i=n(207),a=r(i),c=n(265),s=r(c),l=function(e,t,n,r){return new(n||(n=s["default"]))(function(o,u){function i(e){try{c(r.next(e))}catch(t){u(t)}}function a(e){try{c(r["throw"](e))}catch(t){u(t)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,a)}c((r=r.apply(e,t)).next())})},d=function f(e,t){var n=this;(0,a["default"])(this,f),this.get=function(e){return l(n,void 0,void 0,u["default"].mark(function t(){var n,r;return u["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.state,n.isLoading=!0,t.next=4,this.service.get(e);case 4:r=t.sent,n.value=r,n.isLoading=!1;case 7:case"end":return t.stop()}},t,this)}))},this.state=e,this.service=t};t.OrderViewActions=d},383:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(202),u=r(o),i=n(207),a=r(i),c=n(208),s=r(c),l=n(212),d=r(l),f=n(247),v=r(f),h=n(209),p=r(h),m=n(213),g=r(m),y=n(353),w=r(y),C=function(e,t,n,r){var o,u=arguments.length,i=u<3?t:null===r?r=(0,w["default"])(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,g["default"])(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(u<3?o(i):u>3?o(t,n,i):o(t,n))||i);return u>3&&i&&(0,p["default"])(t,n,i),i},S=n(39),x=n(197),b=n(372),_=function(e){function t(e,n){(0,a["default"])(this,t);var r=(0,d["default"])(this,(t.__proto__||(0,u["default"])(t)).call(this,e,n));return r.onSave=function(){r.props.onSave(b.cloneDeep(r.orderEditState.value))},r.onChangeName=function(e){r.orderEditState.value.name=e.target.value,r.setDirty(!0)},r.onChangeCustomer=function(e){r.orderEditState.value.customer=e,r.setDirty(!0)},r.onChangeCustomer1=function(e){r.orderEditState.value.customer1=e,r.setDirty(!0)},r.orderEditState={value:b.cloneDeep(e.value),isDirty:!1,isLoading:!1},r}return(0,v["default"])(t,e),(0,s["default"])(t,[{key:"componentWillReceiveProps",value:function(e){console.log("OrderEdit componentWillReceiveProps",e),this.orderEditState.value=b.cloneDeep(e.value),this.orderEditState.isDirty=!1,this.setDirty(!1)}},{key:"setDirty",value:function(e){this.props.onDirtyChange&&this.props.onDirtyChange(e)}},{key:"render",value:function(){var e=this.orderEditState,t=this.props.CustomerLookup;return S.createElement("div",null,S.createElement("input",{type:"text",value:e.value.name,onChange:this.onChangeName}),S.createElement(t,{value:e.value.customer,onChange:this.onChangeCustomer}),S.createElement(t,{value:e.value.customer1,onChange:this.onChangeCustomer1}),S.createElement("button",{onClick:this.onSave},"Save"))}}]),t}(S.Component);C([x.observable],_.prototype,"orderEditState",void 0),t.OrderEdit=_,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=_},384:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(202),u=r(o),i=n(207),a=r(i),c=n(208),s=r(c),l=n(212),d=r(l),f=n(247),v=r(f),h=n(2),p=r(h),m=p["default"]||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},g=n(39),y=n(385),w=n(197),C=n(257);t.createCustomerLookup=function(e){return function(t){function n(t,r){(0,a["default"])(this,n);var o=(0,d["default"])(this,(n.__proto__||(0,u["default"])(n)).call(this,t,r));return o.theState=w.observable({value:null,count:0,isLoading:!1,page:0}),o.actions=new y.CustomerLookupActions(o.theState,e),console.log("createCustomerLookup actions",o.actions),o}return(0,v["default"])(n,t),(0,s["default"])(n,[{key:"render",value:function(){return g.createElement(C.Lookup,m({isLoading:this.theState.isLoading,count:this.theState.count,data:this.theState.value,onSearch:this.actions.lookup},this.props))}}]),n}(g.Component)}},385:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(363),u=r(o),i=n(207),a=r(i),c=n(265),s=r(c),l=function(e,t,n,r){return new(n||(n=s["default"]))(function(o,u){function i(e){try{c(r.next(e))}catch(t){u(t)}}function a(e){try{c(r["throw"](e))}catch(t){u(t)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,a)}c((r=r.apply(e,t)).next())})},d=n(197),f=function v(e,t){var n=this;(0,a["default"])(this,v),this.lookup=function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];return l(n,void 0,void 0,u["default"].mark(function o(){var n,i,a,c,s;return u["default"].wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=this.state,n.isLoading=!0,console.log("OrderListActions is loading true"),o.next=5,this.service.list(e,t);case 5:i=o.sent,a=i.value,c=i.count,s=i.page,d.transaction(function(){r?n.value=n.value.concat(a):n.value=a,n.count=c,n.page=s,n.isLoading=!1}),console.log("OrderListActions is loading false");case 11:case"end":return o.stop()}},o,this)}))},this.state=e,this.service=t};t.CustomerLookupActions=f},386:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(258),u=r(o),i=n(39);t.OrderView=function(e){var t=e.value,n=e.onEdit,r=e.onSign,o=e.onDelete;return i.createElement("div",null,i.createElement("div",null,(0,u["default"])(t)),i.createElement("button",{onClick:n},"Edit"),i.createElement("button",{onClick:r},"Sign"),i.createElement("button",{onClick:o},"Delete"))},Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.OrderView},387:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(363),u=r(o),i=n(207),a=r(i),c=n(265),s=r(c),l=function(e,t,n,r){return new(n||(n=s["default"]))(function(o,u){function i(e){try{c(r.next(e))}catch(t){u(t)}}function a(e){try{c(r["throw"](e))}catch(t){u(t)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,a)}c((r=r.apply(e,t)).next())})},d=n(283),f=[{id:"1",customer:{id:"1",name:"Customer1"},customer1:{id:"1",name:"Customer1"},name:"SomeOrder",price:1},{id:"2",customer:{id:"2",name:"Customer2"},customer1:{id:"2",name:"Customer2"},name:"SomeOrder2",price:2}],v=function h(e){var t=this;(0,a["default"])(this,h),this.get=function(e){return l(t,void 0,void 0,u["default"].mark(function n(){return u["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d["default"](f[e],1e3);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},n,this)}))},this.list=function(e){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return l(t,void 0,void 0,u["default"].mark(function r(){return u["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d["default"]({value:f,count:f.length,page:n},1e3);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},r,this)}))},this.lookup=function(e){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return l(t,void 0,void 0,u["default"].mark(function r(){return u["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d["default"]({value:[{id:"qwe1",name:"qwe1"}],count:1,page:n},1e3);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},r,this)}))},this.path=e};t.OrderService=v},388:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(363),u=r(o),i=n(207),a=r(i),c=n(265),s=r(c),l=function(e,t,n,r){return new(n||(n=s["default"]))(function(o,u){function i(e){try{c(r.next(e))}catch(t){u(t)}}function a(e){try{c(r["throw"](e))}catch(t){u(t)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,a)}c((r=r.apply(e,t)).next())})},d=n(283),f=[{id:"1",name:"Customer1"},{id:"2",name:"Customer2"}],v=f,h=function p(e){var t=this;(0,a["default"])(this,p),this.get=function(e){return l(t,void 0,void 0,u["default"].mark(function n(){return u["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d["default"](f[0],1e3);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},n,this)}))},this.list=function(e){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return l(t,void 0,void 0,u["default"].mark(function r(){return u["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d["default"]({value:f,count:f.length,page:n},1e3);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},r,this)}))},this.lookup=function(e){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return l(t,void 0,void 0,u["default"].mark(function r(){return u["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d["default"]({value:v,count:v.length,page:n},1e3);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},r,this)}))},this.path=e};t.CustomerService=h}});