webpackJsonp([1],{359:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(2),i=r(o),u=n(6),a=r(u),c=function(e,t,n,r){return new(n||(n=a["default"]))(function(o,i){function u(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r["throw"](e))}catch(t){i(t)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(u,a)}c((r=r.apply(e,t)).next())})},s=n(321),l=n(360),f=n(361),d=n(367),v=n(374),h=n(375),p=n(322),m=null,y=function(e){var t=e.appState,n=e.userActions,r=e.systemActions;return c(void 0,void 0,void 0,i["default"].mark(function o(){var e,u,a,c,y;return i["default"].wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!m){o.next=2;break}return o.abrupt("return",m);case 2:return e=new f.HomeService,u=new l.HomeState,a=new d.HomeActions({state:u,service:e}),o.next=7,a.loadLang(t.system.lang);case 7:return p.reaction(function(){return t.system&&t.system.lang},function(e){return a.loadLang(e)}),c=s.inject(function(e){return{appState:e.appState,userActions:n,homeState:u,homeActions:a,systemActions:r}})(s.observer(v["default"])),h["default"].defaultProps={homeState:u,homeActions:a,systemActions:r},y=s.inject("appState")(s.observer(h["default"])),m={HomePage:c,ListPage:y},o.abrupt("return",m);case 13:case"end":return o.stop()}},o,this)}))};Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=y},360:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(330),i=r(o),u=n(332),a=r(u),c=n(80),s=r(c),l=n(350),f=r(l),d=function(e,t,n,r){var o,i=arguments.length,u=i<3?t:null===r?r=(0,f["default"])(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,s["default"])(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(u=(i<3?o(u):i>3?o(t,n,u):o(t,n))||u);return i>3&&u&&(0,a["default"])(t,n,u),u},v=n(322),h=function p(){(0,i["default"])(this,p),this.counter=0,this.counterChanging=!1,this.list=null,this.listIsLoading=!1,this.listItems=null};d([v.observable],h.prototype,"i18n",void 0),d([v.observable],h.prototype,"counter",void 0),d([v.observable],h.prototype,"counterChanging",void 0),d([v.observable],h.prototype,"list",void 0),d([v.observable],h.prototype,"listIsLoading",void 0),d([v.observable],h.prototype,"listItems",void 0),t.HomeState=h,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=h},361:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(2),i=r(o),u=n(362),a=r(u),c=n(330),s=r(c),l=n(6),f=r(l),d=function(e,t,n,r){return new(n||(n=f["default"]))(function(o,i){function u(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r["throw"](e))}catch(t){i(t)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(u,a)}c((r=r.apply(e,t)).next())})},v=n(366),h=function p(){var e=this;(0,s["default"])(this,p),this.getList=function(){return d(e,void 0,void 0,i["default"].mark(function t(){var e;return i["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v["default"]((0,a["default"])({length:50},function(e,t){return{id:t+"",name:"qwe",email:"email@domain.com"}}),1e3);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}))},this.saveItem=function(t){return d(e,void 0,void 0,i["default"].mark(function n(){var e;return i["default"].wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v["default"](t,1e3);case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}},n,this)}))}};t.HomeService=h,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=h},362:function(e,t,n){e.exports={"default":n(363),__esModule:!0}},363:function(e,t,n){n(9),n(364),e.exports=n(17).Array.from},364:function(e,t,n){"use strict";var r=n(18),o=n(15),i=n(52),u=n(61),a=n(62),c=n(42),s=n(365),l=n(63);o(o.S+o.F*!n(70)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,f,d=i(e),v="function"==typeof this?this:Array,h=arguments.length,p=h>1?arguments[1]:void 0,m=void 0!==p,y=0,g=l(d);if(m&&(p=r(p,h>2?arguments[2]:void 0,2)),void 0==g||v==Array&&a(g))for(t=c(d.length),n=new v(t);t>y;y++)s(n,y,m?p(d[y],y):d[y]);else for(f=g.call(d),n=new v;!(o=f.next()).done;y++)s(n,y,m?u(f,p,[o.value,y],!0):o.value);return n.length=y,n}})},365:function(e,t,n){"use strict";var r=n(21),o=n(29);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},367:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(2),i=r(o),u=n(330),a=r(u),c=n(6),s=r(c),l=function(e,t,n,r){return new(n||(n=s["default"]))(function(o,i){function u(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r["throw"](e))}catch(t){i(t)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(u,a)}c((r=r.apply(e,t)).next())})},f=n(368),d=function v(e){var t=this,r=e.state,o=e.service;(0,a["default"])(this,v),this.loadLang=function(e){return l(t,void 0,void 0,i["default"].mark(function r(){var t;return i["default"].wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=["en","de"].indexOf(e)!==-1?e:"en",r.next=3,f.loadI18n(n(369)("./i18n."+t+".json"));case 3:this.state.i18n=r.sent;case 4:case"end":return r.stop()}},r,this)}))},this.incrementCounter=function(){return l(t,void 0,void 0,i["default"].mark(function e(){var t,n;return i["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,t.counterChanging=!0,e.next=4,s["default"].resolve(1);case 4:n=e.sent,t.counter+=n,t.counterChanging=!1;case 7:case"end":return e.stop()}},e,this)}))},this.decrementCounter=function(){return l(t,void 0,void 0,i["default"].mark(function e(){var t,n;return i["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,t.counterChanging=!0,e.next=4,s["default"].resolve(-1);case 4:n=e.sent,t.counter+=n,t.counterChanging=!1;case 7:case"end":return e.stop()}},e,this)}))},this.loadList=function(){return l(t,void 0,void 0,i["default"].mark(function e(){var t,n,r;return i["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,n=this.service,t.listIsLoading=!0,e.next=5,n.getList();case 5:r=e.sent,t.list=r,t.listIsLoading=!1;case 8:case"end":return e.stop()}},e,this)}))},this.saveItem=function(e){return l(t,void 0,void 0,i["default"].mark(function n(){var t,r,o,u;return i["default"].wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=this.state,r=this.service,n.next=4,r.saveItem(e);case 4:o=n.sent,u=t.list.findIndex(function(e){return e.id===o.id}),t.list[u]=o;case 7:case"end":return n.stop()}},n,this)}))},this.state=r,this.service=o};t.HomeActions=d,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=d},369:function(e,t,n){function r(e){return n(o(e))}function o(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={"./i18n.de.json":370,"./i18n.en.json":372};r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=369},370:function(e,t,n){e.exports=function(e){n.e(2,function(t){e(n(371))})}},372:function(e,t,n){e.exports=function(e){n.e(3,function(t){e(n(373))})}},374:function(e,t,n){"use strict";var r=n(101),o=function(e){var t=e.appState,n=e.systemActions,o=e.homeState,i=e.homeActions;return r.createElement("div",null,r.createElement("h1",null,"Page"),r.createElement("div",null,"Page width: ",t.layoutWidth),r.createElement("div",null," i18n app: ",t.i18n("some:title",{title:"Title",count:2})),r.createElement("div",null," i18n mod: ",o.i18n("some:title",{title:"Title",count:2})),r.createElement("button",{onClick:function(){return n.setLang("de")}},"de"),r.createElement("button",{onClick:function(){return n.setLang("en")}},"en"),r.createElement("div",null,o.counter),r.createElement("button",{onClick:i.incrementCounter},"increment"),r.createElement("button",{onClick:i.decrementCounter},"decrement"))};Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o},375:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(336),i=r(o),u=n(330),a=r(u),c=n(331),s=r(c),l=n(339),f=r(l),d=n(340),v=r(d),h=n(332),p=r(h),m=n(80),y=r(m),g=n(350),w=r(g),b=function(e,t,n,r){var o,i=arguments.length,u=i<3?t:null===r?r=(0,w["default"])(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,y["default"])(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(u=(i<3?o(u):i>3?o(t,n,u):o(t,n))||u);return i>3&&u&&(0,p["default"])(t,n,u),u},x=n(101),_=n(322),k=n(345),A=function(e){function t(){var e;(0,a["default"])(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var u=(0,f["default"])(this,(e=(0,i["default"])(t)).call.apply(e,[this].concat(r)));return u.dirty=[],u.onSave=function(e){u.props.homeActions.saveItem(e)},u.onDirtyChange=function(e,t){console.log("onDirtyChange",e,t)},u}return(0,v["default"])(t,e),(0,s["default"])(t,[{key:"componentDidMount",value:function(){this.props.homeActions.loadList()}},{key:"render",value:function(){var e=this,t=this.props,n=(t.appState,t.homeState);return x.createElement("div",null,x.createElement("h1",null,"ListPage "),n.listIsLoading&&x.createElement("div",null,"Loading"),n.list&&n.list.map(function(t,n){return x.createElement("div",{key:n},x.createElement("div",null,t.id,". ",t.name,"/",t.email),x.createElement(k.Form,{form:t,onSave:e.onSave}))}))}}]),t}(x.Component);b([_.action],A.prototype,"onDirtyChange",void 0),Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=A}});
//# sourceMappingURL=home.js.map